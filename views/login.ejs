<%- include('partials/header') %>

<style>
  nav {
    display: none;
  }
</style>

<style>
  body {
    font-family: 'Google Sans', sans-serif; /* Use Google's primary font */
    background-color: #fff; /* Clean white background */
    color: #202124; /* Dark grey text, Google's primary text color */
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
  }

  .container {
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 1px 6px rgba(0, 0, 0, 0.1); /* Subtle shadow */
    padding: 40px;
    width: 400px; /* Adjust width as needed */
    text-align: center;
  }

  h1 {
    color: #00bf63; /* Google Green */
    margin-bottom: 30px;
    font-weight: 500; /* Medium font weight */
    font-size: 24px;
  }

  .form-group {
    margin-bottom: 20px;
    text-align: left;
  }

  label {
    display: block;
    margin-bottom: 5px;
    color: #5f6368; /* Google grey for labels */
    font-size: 14px;
    font-weight: 500;
  }

  .form-control {
    width: 100%;
    padding: 12px 16px;
    border: 1px solid #dadce0; /* Light grey border */
    border-radius: 4px;
    font-size: 16px;
    box-sizing: border-box;
    outline: none;
  }

  .form-control:focus {
    border-color: #00bf63; /* Google Green on focus */
    box-shadow: 0 1px 3px rgba(0, 191, 99, 0.3); /* Subtle green shadow on focus */
  }

  .btn-primary {
    background-color: #00bf63; /* Google Green */
    color: #fff;
    border: none;
    border-radius: 4px;
    padding: 12px 24px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.2s ease;
  }

  .btn-primary:hover {
    background-color: white;
    border: 1px solid #00bf63;
    color: #00bf63;
  }

  .card {
    border: none;
    box-shadow: none;
    padding: 0;
  }

  .card-body {
    padding: 0;
  }
</style>

<div class="container">
  <h1>Login</h1>

  <div class="row">
    <div class="col-sm-12">
      <div class="card">
        <div class="card-body">
          <form action="/login" method="POST">
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" class="form-control" name="username" placeholder="Enter your email">
            </div>
            <div class="form-group">
              <label for="password">Password</label>
              <div style="position:relative;">
                <input type="password" class="form-control" id="password" name="password" placeholder="Enter your password" minlength="8" pattern="^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+{}\[\]:;<>,.?~\\/-])[a-zA-Z\d!@#$%^&*()_+{}\[\]:;<>,.?~\\/-]{8,}$" required>
                <button type="button" id="togglePassword" style="position:absolute; right:10px; top:50%; transform:translateY(-50%); background:none; border:none; cursor:pointer; color:#5f6368; font-size:14px;">Show</button>
              </div>
              <small id="passwordHelp" style="color:#888;">Password must be at least 8 characters and contain letters, numbers, and a special character.</small>
            </div>
            <script>
              const passwordInput = document.getElementById('password');
              const togglePassword = document.getElementById('togglePassword');
              const passwordHelp = document.getElementById('passwordHelp');

              togglePassword.addEventListener('click', function () {
              const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
              passwordInput.setAttribute('type', type);
              this.textContent = type === 'password' ? 'Show' : 'Hide';
              });

                passwordInput.addEventListener('input', function () {
                const value = passwordInput.value;
                const valid = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*()_+{}\[\]:;<>,.?~\\/-])[A-Za-z\d!@#$%^&*()_+{}\[\]:;<>,.?~\\/-]{8,}$/.test(value);
                passwordHelp.style.color = valid ? '#00bf63' : '#ea4335';
                });
            </script>
            <button type="submit" class="btn btn-primary btn-block">Login</button>
            
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Optional: Add Google Sans font if not already included in your header
  if (!document.querySelector('link[href*="fonts.googleapis.com"]')) {
    const link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = 'https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500&display=swap';
    document.head.appendChild(link);
  }
</script>

    <div class="col-sm-4">
      <div class="card social-block" style="box-shadow:none; border:none; padding:0;">
        <div class="card-body" style="padding:0;">
          <a class="btn btn-google btn-block" href="/auth/google" role="button" style="display:flex; align-items:center; justify-content:center; background:#fff; color:#4285f4; border:1px solid #dadce0; border-radius:4px; font-weight:500; font-size:16px; padding:12px 0; transition:background 0.2s, border 0.2s;">
            <svg style="height:20px;width:20px;margin-right:10px;" viewBox="0 0 48 48">
              <g>
                <path fill="#4285F4" d="M24 9.5c3.54 0 6.04 1.53 7.43 2.81l5.48-5.48C33.64 3.55 29.21 1.5 24 1.5 14.82 1.5 6.98 7.98 3.69 16.44l6.89 5.35C12.13 15.16 17.57 9.5 24 9.5z"/>
                <path fill="#34A853" d="M46.1 24.55c0-1.64-.15-3.22-.43-4.74H24v9.01h12.39c-.53 2.85-2.13 5.26-4.54 6.89l7.01 5.45c4.09-3.77 6.24-9.33 6.24-16.61z"/>
                <path fill="#FBBC05" d="M10.58 28.79c-1.01-2.85-1.01-5.94 0-8.79l-6.89-5.35C1.64 18.79 0 21.74 0 24.99c0 3.25 1.64 6.2 3.69 8.34l6.89-5.35z"/>
                <path fill="#EA4335" d="M24 46.5c5.21 0 9.64-1.72 12.85-4.68l-7.01-5.45c-1.95 1.31-4.45 2.08-7.84 2.08-6.43 0-11.87-5.66-13.42-13.29l-6.89 5.35C6.98 40.02 14.82 46.5 24 46.5z"/>
                <path fill="none" d="M0 0h48v48H0z"/>
              </g>
            </svg>
            Log in with Google
          </a>
        </div>
      </div>
    </div>
    <style>
      .btn-google {
        background: #fff;
        color: #4285f4;
        border: 1px solid #dadce0;
        border-radius: 4px;
        font-weight: 500;
        font-size: 16px;
        padding: 12px 0;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.2s, border 0.2s;
        text-decoration: none;
        box-shadow: 0 1px 3px rgba(66,133,244,0.08);
      }
      .btn-google:hover {
        background: #f5f5f5;
        border: 1px solid #4285f4;
        color: #4285f4;
        text-decoration: none;
      }
    </style>

    <div style="margin-top: 24px; text-align: center;">
      <span>Don't have an account?</span>
      <a href="/register" style="color: #00bf63; text-decoration: none; font-weight: 500;">Register instead</a>
    </div>

  </div>
</div>


